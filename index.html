<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Fanatec Birthday</title>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; text-align: center; margin: 0; padding: 20px; }
        .main-card { max-width: 800px; margin: auto; background: #262626; padding: 20px; border-radius: 15px; }
        
        /* KONTEJNER PRO OBR√ÅZEK A Z√ìNY */
        .gift-wrapper {
            position: relative; /* Z√°sadn√≠ pro pozicov√°n√≠ z√≥n */
            display: inline-block;
            width: 100%;
            max-width: 100%;
            line-height: 0;
        }

        .gift-image {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }

        /* STYL KLIKAC√çCH Z√ìN */
        .zone {
            position: absolute;
            box-sizing: border-box;
            border: 2px solid rgba(255, 0, 0, 0.5); /* ƒåerven√Ω okraj pro ladƒõn√≠ */
            background: rgba(255, 0, 0, 0.1);
            cursor: pointer;
            z-index: 100;
            transition: 0.3s;
        }

        /* STYL VYBRAN√â Z√ìNY */
        .zone.selected {
            border-color: #00ff00;
            background: rgba(0, 255, 0, 0.3);
        }

        .price-display { font-size: 3em; color: #00ff00; margin: 20px 0; }
        #qr-box { background: white; padding: 10px; border-radius: 10px; display: none; margin: 20px auto; max-width: 200px; }
        .footer { color: #888; font-size: 0.9em; margin-top: 20px; }
    </style>
</head>
<body>

<div class="main-card">
    <h2>Vyber mi ƒç√°st d√°rku! üèéÔ∏è</h2>
    
    <div class="gift-wrapper">
        <img src="obrazek.jpg" class="gift-image" alt="D√°rek">

        <div class="zone" data-price="500" style="top: 20%; left: 42%; width: 25%; height: 40%;"></div>
        
        <div class="zone" data-price="300" style="top: 60%; left: 15%; width: 30%; height: 30%;"></div>
        
        <div class="zone" data-price="400" style="top: 35%; left: 65%; width: 25%; height: 35%;"></div>
        
        <div class="zone" data-price="100" style="top: 30%; left: 45%; width: 5%; height: 10%;"></div>
    </div>

    <div class="price-display"><span id="total">0</span> Kƒç</div>
    
<div id="qr-box" style="display: none; background: white; padding: 15px; border-radius: 10px; margin: 20px auto; max-width: 250px;">
        <img id="qr-img" src="" alt="QR Platba" style="width: 100%; height: auto; border: 1px solid #eee;">
        
        <div style="margin-top: 10px;">
            <a id="qr-link" href="#" target="_blank" style="color: #007bff; font-size: 0.8em; text-decoration: underline;">
                Neda≈ô√≠ se naƒç√≠st QR? Klikni sem.
            </a>
        </div>
    </div>

    <div class="footer">
        √öƒçet: <strong>CZ11 6210 6701 0022 0036 4123</strong><br>
        Zpr√°va: <strong>Narozeniny</strong>
    </div>
</div>

<script>
    const zones = document.querySelectorAll('.zone');
    const totalEl = document.getElementById('total');
    const qrBox = document.getElementById('qr-box');
    const qrImg = document.getElementById('qr-img');
    const qrLink = document.getElementById('qr-link');
    
    // ƒåist√Ω IBAN bez mezer
    const IBAN = "CZ1162106701002200364123";
    const MSG = "Narozeniny";

    zones.forEach(zone => {
        zone.onclick = function() {
            this.classList.toggle('selected');
            
            let sum = 0;
            document.querySelectorAll('.zone.selected').forEach(s => {
                sum += parseInt(s.getAttribute('data-price'));
            });

            totalEl.innerText = sum;

            if (sum > 0) {
                const encodedMsg = encodeURIComponent(MSG);
                
                // ZMƒöNA API: Nyn√≠ pou≈æ√≠v√°me qr-platba.cz (standard pro ƒåR)
                const qrUrl = `https://api.qr-platba.cz/pro/1.0/image.png?iban=${IBAN}&amount=${sum}&currency=CZK&message=${encodedMsg}`;
                
                // Nastav√≠me src a zobraz√≠me box
                qrImg.src = qrUrl;
                qrLink.href = qrUrl;
                qrBox.style.display = 'block';

                // Kontrola do konzole (F12), zda se URL generuje spr√°vnƒõ
                console.log("Generuji QR: " + qrUrl);
            } else {
                qrBox.style.display = 'none';
            }
        };
    });
</script>

</body>
</html>
